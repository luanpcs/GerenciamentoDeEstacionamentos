<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" type="image/png" href="../assets/icon.png">
    <title>Gerência de estacionamentos</title>
</head>

<body onload="carregaCadastros()" style="background-color:white;">
  <header class="shadow">
      <a href=''><img src="../assets/icon.png" alt="..." class="back icon"></a>
      <a href='../index.html'><img src="../assets/imgHome.png" alt="..." class="back"></a>
      <a href='cadastro.html'><img src="../assets/imgUsuarios.png" alt="..." class="back"></a>
      <a href='regsitrar.html'><img src="../assets/imgINOUT.png" alt="..." class="back"></a>
      <a href='consulta.html'><img src="../assets/imgSearch.png" alt="..." class="back"></a>
    <div class="title">Sistema de gerenciamento de estacionamentos - Cadastro</div>
    </header>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-9">
                <div class="form-container">
                    <form class="w-100" id="formulario">
                        <div class="title-bold">
                            <div class="form-group">
                                <div id="tituloForm">Formulário de cadastro de cliente</div>
                                <label for="nome">Nome do cliente:</label>
                                <input type="text" class="form-control rounded-0 shadow-sm" id="nome" placeholder="Nome">
                            </div>
                            <div class="form-group">
                                <label for="modelo">Modelo do carro:</label>
                                <input type="text" class="form-control rounded-0 shadow-sm" id="modelo" placeholder="Modelo">
                            </div>
                            <div class="form-group">
                                <label for="placa">Placa do carro:</label>
                                <input type="text" class="form-control rounded-0 shadow-sm" id="placa" placeholder="Placa">
                            </div>
                        </div>
                            <button type="submit" class="btn btn-primary mx-auto d-block" id="btnOne">Cadastrar</button>
                    </form>
                </div>
            </div>
            <div class="col-md-5">
                <div id="tituloForm">Usuários cadastrados</div>
                <div class="table-container">
                    <input type="text" class="w-100 mb-3" id="searchInput" placeholder="Buscar..." oninput="searchTable()">
                    <table class="table table-striped shadow" id="parkingTable">
                        <thead>
                            <tr>
                                <th>Cliente</th>
                                <th>Carro</th>
                                <th>Placa</th>
                                <th>Excluir</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaDados">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script src="./js/utils.js"></script>
    <script src="./js/requests.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/scriptCadastro.js"></script>
    <script src="../back-end/index.mjs"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <script>
        const licensePlateInput = document.getElementById('placa');
    
        licensePlateInput.addEventListener('input', function(event) {
            const inputValue = event.target.value;
            const formattedValue = formatLicensePlate(inputValue);
            
            event.target.value = formattedValue;
        });

        function formatLicensePlate(value) 
        {
            if(value)
            {
                const letters = value.slice(0, 4).toUpperCase();
                const numbers = value.slice(4, 8);
            
                const formattedLetters = letters.replace(/[^A-Z]/g, '');
                const formattedNumbers = numbers.replace(/\D/g, '');
                return formattedLetters + '-' + formattedNumbers;
            } 
        }
    </script>
</body>

</html>